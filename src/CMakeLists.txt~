# Add defs for the compiler
if(UNIX)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -std=c++0x")
endif()
# MSVC does not require any special flags

#Add current directory
include_directories(.)

# Create a library called "metasim" which includes the source files.
# The extension is already found. Any number of sources could be listed here.
if(WIN32)
add_library(metasim STATIC basestat.cpp 
						entity.cpp
						genericvar.cpp 
						regvar.cpp 
						strtoken.cpp
						trace.cpp 
						debugstream.cpp 
						event.cpp 
						randomvar.cpp 
						simul.cpp 
						tick.cpp)
elseif(UNIX)
add_library(metasim SHARED basestat.cpp 
						entity.cpp
						genericvar.cpp 
						regvar.cpp 
						strtoken.cpp
						trace.cpp 
						debugstream.cpp 
						event.cpp 
						randomvar.cpp 
						simul.cpp 
						tick.cpp)
else()
message( FATAL_ERROR "Unsupported environment (!?)." )
endif()
